<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CatapultServer: BlockStorageCache.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CatapultServer
   &#160;<span id="projectnumber">v0.5.0.1 (Elephant)</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('BlockStorageCache_8h_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">BlockStorageCache.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="BlockStorageCache_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160; </div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#pragma once</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BlockStorage_8h.html">BlockStorage.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SpinReaderWriterLock_8h.html">catapult/utils/SpinReaderWriterLock.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacecatapult.html">catapult</a> { <span class="keyword">namespace </span>io { <span class="keyword">struct </span>CachedData; } }</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacecatapult.html">catapult</a> { <span class="keyword">namespace </span>io {</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="classcatapult_1_1io_1_1BlockStorageView.html">   30</a></span>&#160;    <span class="keyword">class </span><a class="code" href="classcatapult_1_1io_1_1BlockStorageView.html">BlockStorageView</a> : <a class="code" href="classcatapult_1_1utils_1_1MoveOnly.html">utils::MoveOnly</a> {</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        <span class="keyword">explicit</span> <a class="code" href="classcatapult_1_1io_1_1BlockStorageView.html#ac45e8a2f57d0c69dacc02e55bbfb08b6">BlockStorageView</a>(</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                <span class="keyword">const</span> <a class="code" href="classcatapult_1_1io_1_1BlockStorage.html">BlockStorage</a>&amp; storage,</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                <a class="code" href="structcatapult_1_1utils_1_1BasicSpinReaderWriterLock_1_1ReaderLockGuard.html">utils::SpinReaderWriterLock::ReaderLockGuard</a>&amp;&amp; readLock,</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;                <span class="keyword">const</span> <a class="code" href="structcatapult_1_1io_1_1CachedData.html">CachedData</a>&amp; cachedData);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <a class="code" href="classcatapult_1_1utils_1_1BaseValue.html">Height</a> <a class="code" href="classcatapult_1_1io_1_1BlockStorageView.html#a42b38490ba41b12df9b9061b3936cf0d">chainHeight</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <a class="code" href="classcatapult_1_1model_1_1EntityRange.html">model::HashRange</a> <a class="code" href="classcatapult_1_1io_1_1BlockStorageView.html#a12e0318be66eb802193963536844feff">loadHashesFrom</a>(<a class="code" href="classcatapult_1_1utils_1_1BaseValue.html">Height</a> height, <span class="keywordtype">size_t</span> maxHashes) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        std::shared_ptr&lt;const model::Block&gt; <a class="code" href="classcatapult_1_1io_1_1BlockStorageView.html#ac55c8538d2725474fc6916e346edd508">loadBlock</a>(<a class="code" href="classcatapult_1_1utils_1_1BaseValue.html">Height</a> height) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        std::shared_ptr&lt;const model::BlockElement&gt; <a class="code" href="classcatapult_1_1io_1_1BlockStorageView.html#a563a287fa83057aab342f07a0566a529">loadBlockElement</a>(<a class="code" href="classcatapult_1_1utils_1_1BaseValue.html">Height</a> height) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        std::pair&lt;std::vector&lt;uint8_t&gt;, <span class="keywordtype">bool</span>&gt; <a class="code" href="classcatapult_1_1io_1_1BlockStorageView.html#a82a3eb3ad2bc536636c609ee526baf3a">loadBlockStatementData</a>(<a class="code" href="classcatapult_1_1utils_1_1BaseValue.html">Height</a> height) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keyword">private</span>:</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classcatapult_1_1io_1_1BlockStorageView.html#ab8438b19022b7baa4b95648acf4725e6">requireHeight</a>(<a class="code" href="classcatapult_1_1utils_1_1BaseValue.html">Height</a> height, <span class="keyword">const</span> <span class="keywordtype">char</span>* description) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keyword">private</span>:</div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="classcatapult_1_1io_1_1BlockStorageView.html#a75dbc3007a1060fe860d52edaf511e58">   58</a></span>&#160;        <span class="keyword">const</span> <a class="code" href="classcatapult_1_1io_1_1BlockStorage.html">BlockStorage</a>&amp; <a class="code" href="classcatapult_1_1io_1_1BlockStorageView.html#a75dbc3007a1060fe860d52edaf511e58">m_storage</a>;</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="classcatapult_1_1io_1_1BlockStorageView.html#a0baee87e8aa4c884252198bebbd0b864">   59</a></span>&#160;        <a class="code" href="structcatapult_1_1utils_1_1BasicSpinReaderWriterLock_1_1ReaderLockGuard.html">utils::SpinReaderWriterLock::ReaderLockGuard</a> <a class="code" href="classcatapult_1_1io_1_1BlockStorageView.html#a0baee87e8aa4c884252198bebbd0b864">m_readLock</a>;</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="classcatapult_1_1io_1_1BlockStorageView.html#a4a6a8bac4d19d26d2922ca1b8d2a2962">   60</a></span>&#160;        <span class="keyword">const</span> <a class="code" href="structcatapult_1_1io_1_1CachedData.html">CachedData</a>&amp; <a class="code" href="classcatapult_1_1io_1_1BlockStorageView.html#a4a6a8bac4d19d26d2922ca1b8d2a2962">m_cachedData</a>;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    };</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="classcatapult_1_1io_1_1BlockStorageModifier.html">   64</a></span>&#160;    <span class="keyword">class </span><a class="code" href="classcatapult_1_1io_1_1BlockStorageModifier.html">BlockStorageModifier</a> : <a class="code" href="classcatapult_1_1utils_1_1MoveOnly.html">utils::MoveOnly</a> {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <a class="code" href="classcatapult_1_1io_1_1BlockStorageModifier.html#ad83fc8e1cb38c1c6b865c18276174c7e">BlockStorageModifier</a>(</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                <a class="code" href="classcatapult_1_1io_1_1BlockStorage.html">BlockStorage</a>&amp; storage,</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                <a class="code" href="classcatapult_1_1io_1_1PrunableBlockStorage.html">PrunableBlockStorage</a>&amp; stagingStorage,</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                <a class="code" href="structcatapult_1_1utils_1_1BasicSpinReaderWriterLock_1_1ReaderLockGuard.html">utils::SpinReaderWriterLock::ReaderLockGuard</a>&amp;&amp; readLock,</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                <a class="code" href="structcatapult_1_1io_1_1CachedData.html">CachedData</a>&amp; cachedData);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classcatapult_1_1io_1_1BlockStorageModifier.html#a8cf91646db2315e0c84dab7563954570">saveBlock</a>(<span class="keyword">const</span> <a class="code" href="structcatapult_1_1model_1_1BlockElement.html">model::BlockElement</a>&amp; blockElement);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classcatapult_1_1io_1_1BlockStorageModifier.html#a0bb78cb4b933845d4a3cc84d3faa472a">saveBlocks</a>(<span class="keyword">const</span> std::vector&lt;model::BlockElement&gt;&amp; blockElements);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classcatapult_1_1io_1_1BlockStorageModifier.html#ad89681d59ec2b0fd8ce5f66f2d15e590">dropBlocksAfter</a>(<a class="code" href="classcatapult_1_1utils_1_1BaseValue.html">Height</a> height);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classcatapult_1_1io_1_1BlockStorageModifier.html#a68ed3955b979e23c82d8ca86d6e2e6cb">commit</a>();</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keyword">private</span>:</div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="classcatapult_1_1io_1_1BlockStorageModifier.html#abb6c7d3f03aa56c86b33d5e808cb3ed0">   87</a></span>&#160;        <a class="code" href="classcatapult_1_1io_1_1BlockStorage.html">BlockStorage</a>&amp; <a class="code" href="classcatapult_1_1io_1_1BlockStorageModifier.html#abb6c7d3f03aa56c86b33d5e808cb3ed0">m_storage</a>;</div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="classcatapult_1_1io_1_1BlockStorageModifier.html#a9cd1a0a24fc09df5912756664a7bb524">   88</a></span>&#160;        <a class="code" href="classcatapult_1_1io_1_1PrunableBlockStorage.html">PrunableBlockStorage</a>&amp; <a class="code" href="classcatapult_1_1io_1_1BlockStorageModifier.html#a9cd1a0a24fc09df5912756664a7bb524">m_stagingStorage</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="classcatapult_1_1io_1_1BlockStorageModifier.html#a13de144a9841c64b5af2e81d77d31b1e">   89</a></span>&#160;        <a class="code" href="structcatapult_1_1utils_1_1BasicSpinReaderWriterLock_1_1ReaderLockGuard.html">utils::SpinReaderWriterLock::ReaderLockGuard</a> <a class="code" href="classcatapult_1_1io_1_1BlockStorageModifier.html#a13de144a9841c64b5af2e81d77d31b1e">m_readLock</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="classcatapult_1_1io_1_1BlockStorageModifier.html#ae2cf761282e60aa8417fdf00f8c9c20a">   90</a></span>&#160;        <a class="code" href="structcatapult_1_1utils_1_1BasicSpinReaderWriterLock_1_1WriterLockGuard.html">utils::SpinReaderWriterLock::WriterLockGuard</a> <a class="code" href="classcatapult_1_1io_1_1BlockStorageModifier.html#ae2cf761282e60aa8417fdf00f8c9c20a">m_writeLock</a>;</div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="classcatapult_1_1io_1_1BlockStorageModifier.html#a9e4b004d9a69a8d34e443bc59c8a408e">   91</a></span>&#160;        <a class="code" href="structcatapult_1_1io_1_1CachedData.html">CachedData</a>&amp; <a class="code" href="classcatapult_1_1io_1_1BlockStorageModifier.html#a9e4b004d9a69a8d34e443bc59c8a408e">m_cachedData</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="classcatapult_1_1io_1_1BlockStorageModifier.html#a54d04975438924ab5f73cc289f867295">   92</a></span>&#160;        <a class="code" href="classcatapult_1_1utils_1_1BaseValue.html">Height</a> <a class="code" href="classcatapult_1_1io_1_1BlockStorageModifier.html#a54d04975438924ab5f73cc289f867295">m_saveStartHeight</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    };</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="classcatapult_1_1io_1_1BlockStorageCache.html">   97</a></span>&#160;    <span class="keyword">class </span><a class="code" href="classcatapult_1_1io_1_1BlockStorageCache.html">BlockStorageCache</a> {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <a class="code" href="classcatapult_1_1io_1_1BlockStorageCache.html#a5ed77a628de201e5c923b61c7f1f2e73">BlockStorageCache</a>(std::unique_ptr&lt;BlockStorage&gt;&amp;&amp; pStorage, std::unique_ptr&lt;PrunableBlockStorage&gt;&amp;&amp; pStagingStorage);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <a class="code" href="classcatapult_1_1io_1_1BlockStorageCache.html#a1055297334b6b92152be513fcf355522">~BlockStorageCache</a>();</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <a class="code" href="classcatapult_1_1io_1_1BlockStorageView.html">BlockStorageView</a> <a class="code" href="classcatapult_1_1io_1_1BlockStorageCache.html#aa154de9a1f27c000252709be952e10e8">view</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <a class="code" href="classcatapult_1_1io_1_1BlockStorageModifier.html">BlockStorageModifier</a> <a class="code" href="classcatapult_1_1io_1_1BlockStorageCache.html#ae679c1bbbee86c3fb7b0b3191c2eb415">modifier</a>();</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keyword">private</span>:</div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="classcatapult_1_1io_1_1BlockStorageCache.html#a775cded2812877dd0233647d65386ef2">  113</a></span>&#160;        std::unique_ptr&lt;BlockStorage&gt; <a class="code" href="classcatapult_1_1io_1_1BlockStorageCache.html#a775cded2812877dd0233647d65386ef2">m_pStorage</a>;</div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="classcatapult_1_1io_1_1BlockStorageCache.html#a86f2840ba52f6273a66a76d457eb220d">  114</a></span>&#160;        std::unique_ptr&lt;PrunableBlockStorage&gt; <a class="code" href="classcatapult_1_1io_1_1BlockStorageCache.html#a86f2840ba52f6273a66a76d457eb220d">m_pStagingStorage</a>;</div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="classcatapult_1_1io_1_1BlockStorageCache.html#a5671cbbb7ad8669b68bbc18042b3e8b5">  115</a></span>&#160;        std::unique_ptr&lt;CachedData&gt; <a class="code" href="classcatapult_1_1io_1_1BlockStorageCache.html#a5671cbbb7ad8669b68bbc18042b3e8b5">m_pCachedData</a>;</div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="classcatapult_1_1io_1_1BlockStorageCache.html#a6a151c33c1ad39b8017d98cc929b13bf">  116</a></span>&#160;        <span class="keyword">mutable</span> <a class="code" href="classcatapult_1_1utils_1_1BasicSpinReaderWriterLock.html">utils::SpinReaderWriterLock</a> <a class="code" href="classcatapult_1_1io_1_1BlockStorageCache.html#a6a151c33c1ad39b8017d98cc929b13bf">m_lock</a>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    };</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}}</div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageCache_html_a5ed77a628de201e5c923b61c7f1f2e73"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageCache.html#a5ed77a628de201e5c923b61c7f1f2e73">catapult::io::BlockStorageCache::BlockStorageCache</a></div><div class="ttdeci">BlockStorageCache(std::unique_ptr&lt; BlockStorage &gt; &amp;&amp;pStorage, std::unique_ptr&lt; PrunableBlockStorage &gt; &amp;&amp;pStagingStorage)</div><div class="ttdoc">Creates a new cache around pStorage that uses pStagingStorage for staging blocks in order to enable t...</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.cpp:167</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorage_html_a8d803a4985c1c11cd2166a663d308247"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorage.html#a8d803a4985c1c11cd2166a663d308247">catapult::io::BlockStorage::loadBlock</a></div><div class="ttdeci">virtual std::shared_ptr&lt; const model::Block &gt; loadBlock(Height height) const =0</div><div class="ttdoc">Returns the block at height.</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageModifier_html_a9e4b004d9a69a8d34e443bc59c8a408e"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageModifier.html#a9e4b004d9a69a8d34e443bc59c8a408e">catapult::io::BlockStorageModifier::m_cachedData</a></div><div class="ttdeci">CachedData &amp; m_cachedData</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.h:91</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageView_html_ac45e8a2f57d0c69dacc02e55bbfb08b6"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageView.html#ac45e8a2f57d0c69dacc02e55bbfb08b6">catapult::io::BlockStorageView::BlockStorageView</a></div><div class="ttdeci">BlockStorageView(const BlockStorage &amp;storage, utils::SpinReaderWriterLock::ReaderLockGuard &amp;&amp;readLock, const CachedData &amp;cachedData)</div><div class="ttdoc">Creates a view around storage and cache data (cachedData) with lock context readLock.</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.cpp:72</div></div>
<div class="ttc" id="aMemoryUtils_8h_html"><div class="ttname"><a href="MemoryUtils_8h.html">MemoryUtils.h</a></div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageView_html_a0baee87e8aa4c884252198bebbd0b864"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageView.html#a0baee87e8aa4c884252198bebbd0b864">catapult::io::BlockStorageView::m_readLock</a></div><div class="ttdeci">utils::SpinReaderWriterLock::ReaderLockGuard m_readLock</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.h:59</div></div>
<div class="ttc" id="astructcatapult_1_1io_1_1CachedData_html_ae9b067b1f1193623842d05284cf433a5"><div class="ttname"><a href="structcatapult_1_1io_1_1CachedData.html#ae9b067b1f1193623842d05284cf433a5">catapult::io::CachedData::block</a></div><div class="ttdeci">std::shared_ptr&lt; const model::Block &gt; block(Height) const</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.cpp:42</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageView_html_a4a6a8bac4d19d26d2922ca1b8d2a2962"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageView.html#a4a6a8bac4d19d26d2922ca1b8d2a2962">catapult::io::BlockStorageView::m_cachedData</a></div><div class="ttdeci">const CachedData &amp; m_cachedData</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.h:60</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageModifier_html_a0bb78cb4b933845d4a3cc84d3faa472a"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageModifier.html#a0bb78cb4b933845d4a3cc84d3faa472a">catapult::io::BlockStorageModifier::saveBlocks</a></div><div class="ttdeci">void saveBlocks(const std::vector&lt; model::BlockElement &gt; &amp;blockElements)</div><div class="ttdoc">Saves multiple block elements (blockElements).</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.cpp:141</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageModifier_html_ae2cf761282e60aa8417fdf00f8c9c20a"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageModifier.html#ae2cf761282e60aa8417fdf00f8c9c20a">catapult::io::BlockStorageModifier::m_writeLock</a></div><div class="ttdeci">utils::SpinReaderWriterLock::WriterLockGuard m_writeLock</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.h:90</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageModifier_html_a54d04975438924ab5f73cc289f867295"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageModifier.html#a54d04975438924ab5f73cc289f867295">catapult::io::BlockStorageModifier::m_saveStartHeight</a></div><div class="ttdeci">Height m_saveStartHeight</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.h:92</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageCache_html_a86f2840ba52f6273a66a76d457eb220d"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageCache.html#a86f2840ba52f6273a66a76d457eb220d">catapult::io::BlockStorageCache::m_pStagingStorage</a></div><div class="ttdeci">std::unique_ptr&lt; PrunableBlockStorage &gt; m_pStagingStorage</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.h:114</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorage_html_a8136e1093a7d87d0941e05f22a68cf43"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorage.html#a8136e1093a7d87d0941e05f22a68cf43">catapult::io::BlockStorage::loadBlockStatementData</a></div><div class="ttdeci">virtual std::pair&lt; std::vector&lt; uint8_t &gt;, bool &gt; loadBlockStatementData(Height height) const =0</div><div class="ttdoc">Returns the optional block statement data at height.</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageModifier_html_ad83fc8e1cb38c1c6b865c18276174c7e"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageModifier.html#ad83fc8e1cb38c1c6b865c18276174c7e">catapult::io::BlockStorageModifier::BlockStorageModifier</a></div><div class="ttdeci">BlockStorageModifier(BlockStorage &amp;storage, PrunableBlockStorage &amp;stagingStorage, utils::SpinReaderWriterLock::ReaderLockGuard &amp;&amp;readLock, CachedData &amp;cachedData)</div><div class="ttdoc">Creates a view around storage, stagingStorage and cache data (cachedData) with lock context readLock.</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.cpp:124</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageModifier_html"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageModifier.html">catapult::io::BlockStorageModifier</a></div><div class="ttdoc">A write only view on top of block storage.</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.h:64</div></div>
<div class="ttc" id="anamespacecatapult_html_a0e5b7834e245d1d5ec0734d1af8ebae8"><div class="ttname"><a href="namespacecatapult.html#a0e5b7834e245d1d5ec0734d1af8ebae8">catapult::Height</a></div><div class="ttdeci">utils::BaseValue&lt; uint64_t, Height_tag &gt; Height</div><div class="ttdef"><b>Definition:</b> src/catapult/types.h:85</div></div>
<div class="ttc" id="aBlockStorage_8h_html"><div class="ttname"><a href="BlockStorage_8h.html">BlockStorage.h</a></div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorage_html_a9fb551c66b64488c5ea853633e520d8b"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorage.html#a9fb551c66b64488c5ea853633e520d8b">catapult::io::BlockStorage::loadBlockElement</a></div><div class="ttdeci">virtual std::shared_ptr&lt; const model::BlockElement &gt; loadBlockElement(Height height) const =0</div><div class="ttdoc">Returns the block element (owning a block) at height.</div></div>
<div class="ttc" id="aMoveBlockFiles_8h_html"><div class="ttname"><a href="MoveBlockFiles_8h.html">MoveBlockFiles.h</a></div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1LightBlockStorage_html_a59e5d214be944231051b26d2a430c799"><div class="ttname"><a href="classcatapult_1_1io_1_1LightBlockStorage.html#a59e5d214be944231051b26d2a430c799">catapult::io::LightBlockStorage::loadHashesFrom</a></div><div class="ttdeci">virtual model::HashRange loadHashesFrom(Height height, size_t maxHashes) const =0</div><div class="ttdoc">Returns a range of at most maxHashes hashes starting at height.</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageView_html_ac55c8538d2725474fc6916e346edd508"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageView.html#ac55c8538d2725474fc6916e346edd508">catapult::io::BlockStorageView::loadBlock</a></div><div class="ttdeci">std::shared_ptr&lt; const model::Block &gt; loadBlock(Height height) const</div><div class="ttdoc">Returns the block at height.</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.cpp:89</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageView_html_a12e0318be66eb802193963536844feff"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageView.html#a12e0318be66eb802193963536844feff">catapult::io::BlockStorageView::loadHashesFrom</a></div><div class="ttdeci">model::HashRange loadHashesFrom(Height height, size_t maxHashes) const</div><div class="ttdoc">Returns a range of at most maxHashes hashes starting at height.</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.cpp:85</div></div>
<div class="ttc" id="aMemoryPtCache_8cpp_html_ac601920ec7eca0a09ddd173c3bcb3569"><div class="ttname"><a href="MemoryPtCache_8cpp.html#ac601920ec7eca0a09ddd173c3bcb3569">m_readLock</a></div><div class="ttdeci">utils::SpinReaderWriterLock::ReaderLockGuard m_readLock</div><div class="ttdef"><b>Definition:</b> MemoryPtCache.cpp:258</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageView_html_a563a287fa83057aab342f07a0566a529"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageView.html#a563a287fa83057aab342f07a0566a529">catapult::io::BlockStorageView::loadBlockElement</a></div><div class="ttdeci">std::shared_ptr&lt; const model::BlockElement &gt; loadBlockElement(Height height) const</div><div class="ttdoc">Returns the block element (owning a block) at height.</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.cpp:97</div></div>
<div class="ttc" id="aLocalChainApi_8cpp_html_a713ef302dd307c31f56f4d35dc5e3a9c"><div class="ttname"><a href="LocalChainApi_8cpp.html#a713ef302dd307c31f56f4d35dc5e3a9c">m_storage</a></div><div class="ttdeci">const io::BlockStorageCache &amp; m_storage</div><div class="ttdef"><b>Definition:</b> LocalChainApi.cpp:57</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1PrunableBlockStorage_html"><div class="ttname"><a href="classcatapult_1_1io_1_1PrunableBlockStorage.html">catapult::io::PrunableBlockStorage</a></div><div class="ttdoc">Interface that allows saving, loading and pruning blocks.</div><div class="ttdef"><b>Definition:</b> BlockStorage.h:63</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageView_html"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageView.html">catapult::io::BlockStorageView</a></div><div class="ttdoc">A read only view on top of block storage.</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.h:30</div></div>
<div class="ttc" id="aclasscatapult_1_1model_1_1EntityRange_html"><div class="ttname"><a href="classcatapult_1_1model_1_1EntityRange.html">catapult::model::EntityRange</a></div><div class="ttdoc">Represents a range of entities.</div><div class="ttdef"><b>Definition:</b> EntityRange.h:31</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageCache_html_ae679c1bbbee86c3fb7b0b3191c2eb415"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageCache.html#ae679c1bbbee86c3fb7b0b3191c2eb415">catapult::io::BlockStorageCache::modifier</a></div><div class="ttdeci">BlockStorageModifier modifier()</div><div class="ttdoc">Gets a write only view of the storage.</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.cpp:180</div></div>
<div class="ttc" id="aElements_8h_html"><div class="ttname"><a href="Elements_8h.html">Elements.h</a></div></div>
<div class="ttc" id="aSpinReaderWriterLock_8h_html"><div class="ttname"><a href="SpinReaderWriterLock_8h.html">SpinReaderWriterLock.h</a></div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageModifier_html_a8cf91646db2315e0c84dab7563954570"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageModifier.html#a8cf91646db2315e0c84dab7563954570">catapult::io::BlockStorageModifier::saveBlock</a></div><div class="ttdeci">void saveBlock(const model::BlockElement &amp;blockElement)</div><div class="ttdoc">Saves a block element (blockElement).</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.cpp:137</div></div>
<div class="ttc" id="aclasscatapult_1_1utils_1_1BaseValue_html"><div class="ttname"><a href="classcatapult_1_1utils_1_1BaseValue.html">catapult::utils::BaseValue&lt; uint64_t, Height_tag &gt;</a></div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageModifier_html_a13de144a9841c64b5af2e81d77d31b1e"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageModifier.html#a13de144a9841c64b5af2e81d77d31b1e">catapult::io::BlockStorageModifier::m_readLock</a></div><div class="ttdeci">utils::SpinReaderWriterLock::ReaderLockGuard m_readLock</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.h:89</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageModifier_html_ad89681d59ec2b0fd8ce5f66f2d15e590"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageModifier.html#ad89681d59ec2b0fd8ce5f66f2d15e590">catapult::io::BlockStorageModifier::dropBlocksAfter</a></div><div class="ttdeci">void dropBlocksAfter(Height height)</div><div class="ttdoc">Drops all blocks after height.</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.cpp:146</div></div>
<div class="ttc" id="aclasscatapult_1_1utils_1_1BasicSpinReaderWriterLock_html_a2f34179c267ef1f1cac8eaea1feef23e"><div class="ttname"><a href="classcatapult_1_1utils_1_1BasicSpinReaderWriterLock.html#a2f34179c267ef1f1cac8eaea1feef23e">catapult::utils::BasicSpinReaderWriterLock::acquireReader</a></div><div class="ttdeci">ReaderLockGuard acquireReader()</div><div class="ttdoc">Blocks until a reader lock can be acquired.</div><div class="ttdef"><b>Definition:</b> SpinReaderWriterLock.h:153</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageCache_html_aa154de9a1f27c000252709be952e10e8"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageCache.html#aa154de9a1f27c000252709be952e10e8">catapult::io::BlockStorageCache::view</a></div><div class="ttdeci">BlockStorageView view() const</div><div class="ttdoc">Gets a read only view of the storage.</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.cpp:176</div></div>
<div class="ttc" id="astructcatapult_1_1io_1_1CachedData_html_a4debac0ac61b6a3bb80572a77610bb99"><div class="ttname"><a href="structcatapult_1_1io_1_1CachedData.html#a4debac0ac61b6a3bb80572a77610bb99">catapult::io::CachedData::update</a></div><div class="ttdeci">void update(const std::shared_ptr&lt; const model::BlockElement &gt; &amp;pBlockElement)</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.cpp:56</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1LightBlockStorage_html_a1f50117a8d9bd065451e7188c8f016ac"><div class="ttname"><a href="classcatapult_1_1io_1_1LightBlockStorage.html#a1f50117a8d9bd065451e7188c8f016ac">catapult::io::LightBlockStorage::dropBlocksAfter</a></div><div class="ttdeci">virtual void dropBlocksAfter(Height height)=0</div><div class="ttdoc">Drops all blocks after height.</div></div>
<div class="ttc" id="astructcatapult_1_1utils_1_1BasicSpinReaderWriterLock_1_1WriterLockGuard_html"><div class="ttname"><a href="structcatapult_1_1utils_1_1BasicSpinReaderWriterLock_1_1WriterLockGuard.html">catapult::utils::BasicSpinReaderWriterLock::WriterLockGuard</a></div><div class="ttdoc">A writer lock guard.</div><div class="ttdef"><b>Definition:</b> SpinReaderWriterLock.h:83</div></div>
<div class="ttc" id="anamespacecatapult_1_1io_html_a5fdd349a81e8473d5b9d5147c309ccde"><div class="ttname"><a href="namespacecatapult_1_1io.html#a5fdd349a81e8473d5b9d5147c309ccde">catapult::io::MoveBlockFiles</a></div><div class="ttdeci">void MoveBlockFiles(PrunableBlockStorage &amp;sourceStorage, BlockStorage &amp;destinationStorage, Height startHeight)</div><div class="ttdoc">Moves block files starting at startHeight from sourceStorage to destinationStorage.</div><div class="ttdef"><b>Definition:</b> MoveBlockFiles.cpp:28</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageView_html_ab8438b19022b7baa4b95648acf4725e6"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageView.html#ab8438b19022b7baa4b95648acf4725e6">catapult::io::BlockStorageView::requireHeight</a></div><div class="ttdeci">void requireHeight(Height height, const char *description) const</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.cpp:110</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1LightBlockStorage_html_a49b0c865abd519f57eaef3dcd440d54d"><div class="ttname"><a href="classcatapult_1_1io_1_1LightBlockStorage.html#a49b0c865abd519f57eaef3dcd440d54d">catapult::io::LightBlockStorage::chainHeight</a></div><div class="ttdeci">virtual Height chainHeight() const =0</div><div class="ttdoc">Gets the number of blocks.</div></div>
<div class="ttc" id="aMemoryPtCache_8cpp_html_afb87c4f152375c3c61f218bd90e6198a"><div class="ttname"><a href="MemoryPtCache_8cpp.html#afb87c4f152375c3c61f218bd90e6198a">m_writeLock</a></div><div class="ttdeci">utils::SpinReaderWriterLock::WriterLockGuard m_writeLock</div><div class="ttdef"><b>Definition:</b> MemoryPtCache.cpp:259</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageCache_html"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageCache.html">catapult::io::BlockStorageCache</a></div><div class="ttdef"><b>Definition:</b> BlockStorageCache.h:97</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageCache_html_a5671cbbb7ad8669b68bbc18042b3e8b5"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageCache.html#a5671cbbb7ad8669b68bbc18042b3e8b5">catapult::io::BlockStorageCache::m_pCachedData</a></div><div class="ttdeci">std::unique_ptr&lt; CachedData &gt; m_pCachedData</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.h:115</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageView_html_a42b38490ba41b12df9b9061b3936cf0d"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageView.html#a42b38490ba41b12df9b9061b3936cf0d">catapult::io::BlockStorageView::chainHeight</a></div><div class="ttdeci">Height chainHeight() const</div><div class="ttdoc">Gets the number of blocks.</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.cpp:81</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageModifier_html_abb6c7d3f03aa56c86b33d5e808cb3ed0"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageModifier.html#abb6c7d3f03aa56c86b33d5e808cb3ed0">catapult::io::BlockStorageModifier::m_storage</a></div><div class="ttdeci">BlockStorage &amp; m_storage</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.h:87</div></div>
<div class="ttc" id="astructcatapult_1_1io_1_1CachedData_html_a6f6deb7155d5ce8a64a9f225ff4787ea"><div class="ttname"><a href="structcatapult_1_1io_1_1CachedData.html#a6f6deb7155d5ce8a64a9f225ff4787ea">catapult::io::CachedData::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.cpp:60</div></div>
<div class="ttc" id="aclasscatapult_1_1utils_1_1MoveOnly_html"><div class="ttname"><a href="classcatapult_1_1utils_1_1MoveOnly.html">catapult::utils::MoveOnly</a></div><div class="ttdoc">A class that can be moved but not copied.</div><div class="ttdef"><b>Definition:</b> NonCopyable.h:43</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageView_html_a75dbc3007a1060fe860d52edaf511e58"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageView.html#a75dbc3007a1060fe860d52edaf511e58">catapult::io::BlockStorageView::m_storage</a></div><div class="ttdeci">const BlockStorage &amp; m_storage</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.h:58</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageView_html_a82a3eb3ad2bc536636c609ee526baf3a"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageView.html#a82a3eb3ad2bc536636c609ee526baf3a">catapult::io::BlockStorageView::loadBlockStatementData</a></div><div class="ttdeci">std::pair&lt; std::vector&lt; uint8_t &gt;, bool &gt; loadBlockStatementData(Height height) const</div><div class="ttdoc">Returns the optional block statement data at height.</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.cpp:105</div></div>
<div class="ttc" id="astructcatapult_1_1model_1_1BlockElement_html"><div class="ttname"><a href="structcatapult_1_1model_1_1BlockElement.html">catapult::model::BlockElement</a></div><div class="ttdoc">Processing element for a block composed of a block and metadata.</div><div class="ttdef"><b>Definition:</b> Elements.h:55</div></div>
<div class="ttc" id="astructcatapult_1_1utils_1_1BasicSpinReaderWriterLock_1_1ReaderLockGuard_html"><div class="ttname"><a href="structcatapult_1_1utils_1_1BasicSpinReaderWriterLock_1_1ReaderLockGuard.html">catapult::utils::BasicSpinReaderWriterLock::ReaderLockGuard</a></div><div class="ttdoc">A reader lock guard.</div><div class="ttdef"><b>Definition:</b> SpinReaderWriterLock.h:99</div></div>
<div class="ttc" id="astructcatapult_1_1io_1_1CachedData_html"><div class="ttname"><a href="structcatapult_1_1io_1_1CachedData.html">catapult::io::CachedData</a></div><div class="ttdef"><b>Definition:</b> BlockStorageCache.cpp:36</div></div>
<div class="ttc" id="aexceptions_8h_html_a154fc50ccd2fcdb4dbadbaf8d5e0d5b3"><div class="ttname"><a href="exceptions_8h.html#a154fc50ccd2fcdb4dbadbaf8d5e0d5b3">CATAPULT_THROW_INVALID_ARGUMENT</a></div><div class="ttdeci">#define CATAPULT_THROW_INVALID_ARGUMENT(MESSAGE)</div><div class="ttdoc">Macro used to throw a catapult invalid argument.</div><div class="ttdef"><b>Definition:</b> exceptions.h:179</div></div>
<div class="ttc" id="anamespacecatapult_html"><div class="ttname"><a href="namespacecatapult.html">catapult</a></div><div class="ttdef"><b>Definition:</b> AddressExtractionExtension.cpp:28</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageCache_html_a1055297334b6b92152be513fcf355522"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageCache.html#a1055297334b6b92152be513fcf355522">catapult::io::BlockStorageCache::~BlockStorageCache</a></div><div class="ttdeci">~BlockStorageCache()</div><div class="ttdoc">Destroys the cache.</div></div>
<div class="ttc" id="astructcatapult_1_1io_1_1CachedData_html_a5138b51363f7570f329935f4c23c6c4a"><div class="ttname"><a href="structcatapult_1_1io_1_1CachedData.html#a5138b51363f7570f329935f4c23c6c4a">catapult::io::CachedData::height</a></div><div class="ttdeci">Height height() const</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.cpp:38</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorage_html"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorage.html">catapult::io::BlockStorage</a></div><div class="ttdoc">Interface for saving and loading blocks.</div><div class="ttdef"><b>Definition:</b> BlockStorage.h:50</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageCache_html_a775cded2812877dd0233647d65386ef2"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageCache.html#a775cded2812877dd0233647d65386ef2">catapult::io::BlockStorageCache::m_pStorage</a></div><div class="ttdeci">std::unique_ptr&lt; BlockStorage &gt; m_pStorage</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.h:113</div></div>
<div class="ttc" id="aAggregateBlockStorage_8cpp_html_a455466fbc53759ee82edcf2f92e22e01"><div class="ttname"><a href="AggregateBlockStorage_8cpp.html#a455466fbc53759ee82edcf2f92e22e01">m_pStorage</a></div><div class="ttdeci">std::unique_ptr&lt; BlockStorage &gt; m_pStorage</div><div class="ttdef"><b>Definition:</b> AggregateBlockStorage.cpp:75</div></div>
<div class="ttc" id="aBlockStorageCache_8h_html"><div class="ttname"><a href="BlockStorageCache_8h.html">BlockStorageCache.h</a></div></div>
<div class="ttc" id="astructcatapult_1_1io_1_1CachedData_html_a7f0e1c5db531b9e7d94e21db00e35887"><div class="ttname"><a href="structcatapult_1_1io_1_1CachedData.html#a7f0e1c5db531b9e7d94e21db00e35887">catapult::io::CachedData::blockElement</a></div><div class="ttdeci">std::shared_ptr&lt; const model::BlockElement &gt; blockElement(Height) const</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.cpp:46</div></div>
<div class="ttc" id="astructcatapult_1_1io_1_1CachedData_html_af08236226d2ecc5b9ef8f3638b5dc2c8"><div class="ttname"><a href="structcatapult_1_1io_1_1CachedData.html#af08236226d2ecc5b9ef8f3638b5dc2c8">catapult::io::CachedData::m_pBlockElement</a></div><div class="ttdeci">std::shared_ptr&lt; const model::BlockElement &gt; m_pBlockElement</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.cpp:65</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageCache_html_a6a151c33c1ad39b8017d98cc929b13bf"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageCache.html#a6a151c33c1ad39b8017d98cc929b13bf">catapult::io::BlockStorageCache::m_lock</a></div><div class="ttdeci">utils::SpinReaderWriterLock m_lock</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.h:116</div></div>
<div class="ttc" id="aclasscatapult_1_1utils_1_1BasicSpinReaderWriterLock_html"><div class="ttname"><a href="classcatapult_1_1utils_1_1BasicSpinReaderWriterLock.html">catapult::utils::BasicSpinReaderWriterLock</a></div><div class="ttdef"><b>Definition:</b> SpinReaderWriterLock.h:36</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageModifier_html_a68ed3955b979e23c82d8ca86d6e2e6cb"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageModifier.html#a68ed3955b979e23c82d8ca86d6e2e6cb">catapult::io::BlockStorageModifier::commit</a></div><div class="ttdeci">void commit()</div><div class="ttdoc">Commits all staged changes to the primary storage.</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.cpp:151</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1BlockStorageModifier_html_a9cd1a0a24fc09df5912756664a7bb524"><div class="ttname"><a href="classcatapult_1_1io_1_1BlockStorageModifier.html#a9cd1a0a24fc09df5912756664a7bb524">catapult::io::BlockStorageModifier::m_stagingStorage</a></div><div class="ttdeci">PrunableBlockStorage &amp; m_stagingStorage</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.h:88</div></div>
<div class="ttc" id="astructcatapult_1_1io_1_1CachedData_html_a29597fc6c97eaa0df4ff5d8014a29f42"><div class="ttname"><a href="structcatapult_1_1io_1_1CachedData.html#a29597fc6c97eaa0df4ff5d8014a29f42">catapult::io::CachedData::contains</a></div><div class="ttdeci">bool contains(Height height) const</div><div class="ttdef"><b>Definition:</b> BlockStorageCache.cpp:51</div></div>
<div class="ttc" id="aclasscatapult_1_1io_1_1LightBlockStorage_html_abc542413765c5e11311c91be80a9cbb8"><div class="ttname"><a href="classcatapult_1_1io_1_1LightBlockStorage.html#abc542413765c5e11311c91be80a9cbb8">catapult::io::LightBlockStorage::saveBlock</a></div><div class="ttdeci">virtual void saveBlock(const model::BlockElement &amp;blockElement)=0</div><div class="ttdoc">Saves blockElement.</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_b44c1260bbe05e2662b876960391d26d.html">catapult-server</a></li><li class="navelem"><a class="el" href="dir_b029c1933000b647493fc184aa72bc64.html">src</a></li><li class="navelem"><a class="el" href="dir_74f517ce9840cce4030038d7f494cec0.html">catapult</a></li><li class="navelem"><a class="el" href="dir_acd0fb4534b6de526faf0859aff1bbd3.html">io</a></li><li class="navelem"><a class="el" href="BlockStorageCache_8h.html">BlockStorageCache.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
